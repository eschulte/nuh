<!DOCTYPE html>
<html>
<title>{{ title }}</title>
<meta charset="UTF-8">
<meta name="description" content="{{ brief }}">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Design by Eric Schulte, source at https://github.com/eschulte/nuh. -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.4.0/css/all.css">
<link rel="icon" href="{{ "/favicon.ico" |url }}">
<script src="https://www.google.com/recaptcha/api.js"></script>
<style>
body,h1,h2{font-family: "Raleway", sans-serif}
body, html {height: 100%}
/* To align anchors. */
</style>
<body class="w3-light-grey">
  <!-- Navbar (sit on top) -->
  <div class="w3-top">
    <div class="w3-bar w3-white w3-card" id="myNavbar">
      <a href="{{ "/" | url }}" class="w3-bar-item w3-button w3-wide" onclick="navbar_hide()">NUH</a>
    </div>
  </div>
  <div style="padding-top:2em;">
  </div>

  <div class="w3-container">
    <h1>{{ name }}</h1>
    {{ content | safe }}
  </div>
</body>
<script>
  function onSubmit(token){
    document.getElementById("{{ form-id }}").submit();
  }
  document.forms['{{ form-id }}'].addEventListener('submit', (event) => {
    event.preventDefault();
    // TODO: do something here to show user that form is being submitted
    fetch(event.target.action, {
      method: 'POST',
      body: new URLSearchParams(new FormData(event.target))
    }).then((resp) => {
      console.log(resp)
      return resp.text()
    }).then((body) => {
      console.log("SERVER: " + body)
      return body
    }).catch((error) => {
      alert("ERROR: " + error)
    });
  });
</script>
</html>
